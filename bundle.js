(()=>{"use strict";var t,e,i,s,r={993:(t,e,i)=>{i.d(e,{A:()=>g});var s,r=i(992);class n{#t;#e;#i;#s;#r;#n;constructor(t,e){this.#i=Math.abs(e.x-t.x),this.#s=Math.abs(e.y-t.y),this.#r=this.#i/2,this.#n=this.#s/2,this.#t=new r.A(this.#r+t.x,this.#n+t.y),this.#e=this.#t.copy()}reset(){this.#e=this.#t.copy()}move(t){this.#e.add(t)}collide(t){return t.left<this.right&&t.right>this.left&&t.top<this.bottom&&t.bottom>this.top}get position(){return this.#e}get topLeft(){return r.A.subtract(this.#e,{x:this.#r,y:this.#n})}get bottomRight(){return r.A.add(this.#e,{x:this.#r,y:this.#n})}get top(){return this.#e.y-this.#n}get bottom(){return this.#e.y+this.#n}get left(){return this.#e.x-this.#r}get right(){return this.#e.x+this.#r}get x(){return this.#e.x}get y(){return this.#e.y}get width(){return this.#i}get height(){return this.#s}}class h extends n{#h;#o=0;#a=0;#l=null;constructor({position:t,size:e=20,brain:i}){const s=.5*e;super({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y+s}),this.#h=e,i&&(this.#l=i)}reset(){super.reset(),this.#o=0,this.#a=0}jump(){this.#o=h.#c}update(){this.#o=Math.max(Math.min(this.#o+h.#d,h.#u),h.#c);const t={x:0,y:this.#o};this.move(t)}incrementScore(){this.#a++}get normalizedVelocity(){return(this.#o-h.#c)/h.#u}get size(){return this.#h}get score(){return this.#a}get brain(){return this.#l}static#u=40;static#c=-8;static#d=.5}class o{#e;#g;#p;constructor(t,e){e=Math.min(o.#y-o.#f/2-o.#x,Math.max(o.#m+o.#f/2+o.#x,e)),this.#e=new r.A(t,e);const i=.5*o.#w,s=.5*o.#f;this.#g=new n({x:t-i,y:o.#m},{x:t+i,y:e-s}),this.#p=new n({x:t-i,y:e+s},{x:t+i,y:o.#y})}update(t,e){const i=r.A.multiply({x:-2,y:0},t*e);this.#g.move(i),this.#p.move(i),this.#e.add(i)}nextIfThereIsSpaceTo(t){const e=this.#b();return e.x<t+o.#w/2?new o(e.x,e.y):null}#b(){const t=this.#e.x+o.#w+o.#v,e=100*Math.random()+100,i=this.#e.y-e<o.#m+o.#f/2+o.#x,s=this.#e.y+e>o.#y-o.#f/2-o.#x;let r=this.#e.y;return i?r+=e:s?r-=e:r+=e*Math.sign(Math.random()-.5),{x:t,y:r}}get left(){return this.#e.x-o.#w/2}get right(){return this.#e.x+o.#w/2}get top(){return this.#g}get bottom(){return this.#p}static#f=150;static#w=50;static#v=300;static#m=0;static#y=0;static#x=20;static set TOP_BOUNDARY(t){o.#m=t}static set BOTTOM_BOUNDARY(t){o.#y=t}static get SIZE(){return o.#w}}class a{#A;constructor(){this.#A=2*Math.random()-1}mutate(t){const e=new a;var i;return e.#A=(i=this.#A)+(2*Math.random()-1-i)*t,e}toJSON(){return this.#A}get weight(){return this.#A}static create(t){const e=new a;return e.#A=t,e}}class l{#S=0;#T=0;#E=[];constructor(t,e){this.#T="number"==typeof e?e:2*Math.random()-1,this.#E=t}feedForward(t){const e=this.#E.reduce(((e,i,s)=>e+t[s].#S*i.weight),0);this.#S=1/(1+Math.exp(-e-this.#T))}mutate(t){return new l(this.#E.map((e=>e.mutate(t))),(e=this.#T)+(2*Math.random()-1-e)*t);var e}toJSON(){return{bias:this.#T,edges:this.#E.map((t=>t.toJSON()))}}set value(t){this.#S=t}get value(){return this.#S}get bias(){return this.#T}get edges(){return this.#E}static create({bias:t,edges:e}){return new l(e.map((t=>a.create(t))),t)}}class c{#I=[];constructor(t){this.#I=t}feedForward(t){for(const e of this.#I)e.feedForward(t.#I)}mutate(t){return new c(this.#I.map((e=>e.mutate(t))))}toJSON(){return this.#I.map((t=>t.toJSON()))}get nodes(){return this.#I}static create(t){return new c(t.map((t=>l.create(t))))}}class d{#P;#O;#B;#N;constructor(t,e,i){this.#P=t,this.#O=e,this.#B=i;const s=new c(Array.from({length:t},(()=>new l([],0)))),r=[new c(Array.from({length:e[0]},(()=>new l(Array.from({length:t},(()=>new a))))))];for(let i=1;i<e.length;i++)r.push(new c(Array.from({length:e[i-1]},(()=>new l(Array.from({length:t},(()=>new a)))))));const n=new c(Array.from({length:i},(()=>new l(Array.from({length:e[e.length-1]},(()=>new a))))));this.#N=[s,...r,n]}feedForward(t){this.#N[0].nodes.forEach(((e,i)=>{e.value=t[i]}));for(let t=1;t<this.#N.length;t++)this.#N[t].feedForward(this.#N[t-1]);return this.#N[this.#N.length-1].nodes.map((t=>t.value))}mutate(t){const e=new d(this.#P,this.#O,this.#B);for(let i=1;i<this.#N.length;i++)e.#N[i]=this.#N[i].mutate(t);return e}toJSON(){return{input:this.#P,hidden:this.#O,output:this.#B,layers:this.#N.map((t=>t.toJSON()))}}get layers(){return this.#N}static create(t){const{input:e,hidden:i,output:s,layers:r}=JSON.parse(t),n=new d(e,i,s);for(let t=0;t<r.length;t++)n.#N[t]=c.create(r[t]);return n}save(){localStorage.setItem(d.#_,JSON.stringify(this))}static load(t){let e=localStorage.getItem(this.#_);return e||(localStorage.setItem(this.#_,t),e=t),d.create(t)}static#_="brain"}class u{#M;#h;#k;#R=null;#D;#L;constructor(t,e,i){this.#M=0,this.#h=t,this.#k=Array.from({length:t},e),this.#L=e,this.#D=i}update(){if(0===this.remaining)return;const t=this.#k.reduce(((t,e)=>this.#D(e)>this.#D(t)?e:t),this.#k[0]),e=this.#D(t);e>0&&(!this.#R||e>this.#D(this.#R))&&(this.#R=t)}eliminate(t){this.#k.splice(t,1)}nextGeneration(){this.#M++;const t=[];for(let e=0;e<this.#h;e++)t.push(this.#L(this.#R??void 0));this.#R&&(t[0]=this.#R),this.#k=t}get number(){return this.#M}get population(){return this.#k}get best(){return this.#R}get remaining(){return this.#k.length}}!function(t){t[t.TRAIN=0]="TRAIN",t[t.TEST=1]="TEST",t[t.COMPETE=2]="COMPETE",t[t.PLAY=3]="PLAY"}(s||(s={}));class g{#z;#Y;#U=0;#C=[];#G=!1;#W=!1;#H;#F=!1;#V;#Z;#J;#j;#q;#K;#$=s.TEST;constructor(t,e){this.load(),this.#J=d.load(e);const{viewport:i,ceiling:s,floor:r}=this.#X(t.width,t.height);this.#z=i,this.#V=s,this.#Z=r,this.#H=g.#Q,this.#Y=t,this.#C=this.#tt(),this.#q=this.#et(this.#J),this.#K=this.#et(),this.#j=new u(g.#it,(t=>this.#et(t&&t.brain?t.brain.mutate(g.#st):this.#J?this.#J.mutate(g.#st):new d(g.#rt,g.#nt,g.#ht))),(t=>t.score)),this.#j.population[0]=this.#et(this.#J),window.addEventListener("keydown",(t=>{[" ","ArrowUp"].includes(t.key)&&this.#K.jump()}))}#et(t){return new h({position:this.#z.position.copy({x:100}),brain:t})}#tt(){const t=[];let e=new o(this.#z.position.x,this.#z.position.y);for(t.push(e);;){const i=e.nextIfThereIsSpaceTo(this.#z.right);if(null===i)break;t.push(i),e=i}return t}resize(t,e){const{viewport:i,ceiling:s,floor:r}=this.#X(t,e);this.#z=i,this.#V=s,this.#Z=r}#X(t,e){const i=new n({x:0,y:0},{x:t,y:e}),s=i.top+20,r=i.bottom-20,h=new n({x:0,y:0},{x:i.right,y:s}),a=new n({x:0,y:r},{x:i.right,y:i.bottom});return o.TOP_BOUNDARY=s,o.BOTTOM_BOUNDARY=r,{viewport:i,ceiling:h,floor:a}}reset(){let t=0;for(const e of this.#j.population)t=Math.max(t,e.score),e.reset();this.#$===s.TRAIN?this.#j.nextGeneration():(this.#$===s.PLAY||this.#$===s.COMPETE)&&(t=this.#K.score),this.#q.reset(),this.#K.reset(),t>this.#U&&(this.#U=t),this.save(),this.#W=!1,this.#C=this.#tt(),this.#H=g.#Q}save(){localStorage.setItem(g.#ot,this.#U.toString()),this.#$===s.TRAIN&&this.#j.best&&this.#j.best.brain&&(this.#J=this.#j.best.brain,this.#J.save())}load(){this.#U=+(localStorage.getItem(g.#ot)??0)}update(t){if(this.#G)return;this.#H+=1e-4;for(const e of this.#C)e.update(t,this.#H);this.#C[0].right<this.#z.left&&this.#C.shift();const e=this.#C.at(-1);if(e){const t=e.nextIfThereIsSpaceTo(this.#z.right);t&&this.#C.push(t)}const i=this.#at();if(this.#$===s.TRAIN?(this.#j.population.forEach(((t,e)=>{this.#lt(t,i),(this.#V.collide(t)||this.#Z.collide(t)||this.#ct(i,t))&&this.#j.eliminate(e)})),this.#j.update()):this.#$===s.TEST?(this.#lt(this.#q,i),(this.#V.collide(this.#q)||this.#Z.collide(this.#q)||this.#ct(i,this.#q))&&(this.#W=!0)):this.#$===s.PLAY?(this.#lt(this.#K,i),(this.#V.collide(this.#K)||this.#Z.collide(this.#K)||this.#ct(i,this.#K))&&(this.#W=!0)):this.#$===s.COMPETE&&(this.#lt(this.#q,i),this.#lt(this.#K,i),(this.#V.collide(this.#q)||this.#Z.collide(this.#q)||this.#ct(i,this.#q))&&(this.#W=!0),(this.#V.collide(this.#K)||this.#Z.collide(this.#K)||this.#ct(i,this.#K))&&(this.#W=!0)),i===this.#C[1]){if(!this.#F){if(this.#$===s.TRAIN)for(const t of this.#j.population)t.incrementScore();else this.#$===s.PLAY?this.#K.incrementScore():this.#$===s.COMPETE&&(this.#q.incrementScore(),this.#K.incrementScore());this.#F=!0}}else this.#F=!1;this.#$===s.TRAIN&&0===this.#j.remaining&&(this.#W=!0),this.#W&&this.reset()}#lt(t,e){t.update(),(t.brain?.feedForward([t.top/this.#z.height,t.bottom/this.#z.height,t.normalizedVelocity,e.top.bottom/this.#z.height,e.bottom.top/this.#z.height,e.left/this.#z.width,e.right/this.#z.width])||[0])[0]>.5&&t.jump()}#ct({top:t,bottom:e},i){return t.collide(i)||e.collide(i)}#at(){return[this.#C[0],this.#C[1]].find((t=>t.right>this.#j.population[0].left))}render(){if(this.#dt(),this.#ut(),this.#$===s.TRAIN){for(const t of this.#j.population)this.#gt(t);this.#gt(this.#j.best||this.#j.population[0],{highlight:!0}),this.#pt(this.#U,this.#j.best?this.#j.best.score:this.#j.population[0].score)}this.#$===s.TEST&&this.#gt(this.#q),this.#$===s.PLAY&&(this.#gt(this.#K),this.#pt(this.#U,this.#K.score)),this.#$===s.COMPETE&&(this.#gt(this.#q,{text:"AI"}),this.#gt(this.#K,{text:"You",highlight:!0}),this.#pt(this.#U,this.#K.score))}#dt(){this.#Y.beginPath().rect(this.#V.topLeft,this.#V.width,this.#V.height).rect(this.#Z.topLeft,this.#Z.width,this.#Z.height).closePath().fill("#0f0").stroke({color:"#000",width:2})}#ut(){for(const{top:t,bottom:e}of this.#C)this.#Y.beginPath().rect(t.topLeft,t.width,t.height).rect(e.topLeft,e.width,e.height).closePath().fill("#0f0").stroke({color:"black",width:2})}#gt(t,{text:e,highlight:i=!1}={}){this.#Y.beginPath().circle(t.position,.5*t.size).closePath().fill(i?"#f00":"#ff0").stroke({color:"black",width:2}),e&&this.#Y.text({text:e,at:t.position.copy().subtract({x:0,y:t.size+5}),size:16,fillStyle:"#fff",strokeStyle:"transparent",font:"monogram"})}#pt(t,e){this.#Y.text({text:`Best score: ${t}`,at:this.#Y.center.copy().subtract({x:0,y:130}),size:32,fillStyle:"#fff",strokeStyle:"transparent",font:"monogram"}).text({text:e.toString(),at:this.#Y.center.copy().subtract({x:0,y:100}),size:56,fillStyle:"#fff",strokeStyle:"#fff",font:"monogram"})}renderNetwork(t){let e;if(this.#$===s.PLAY?t.canvas.style.display="none":t.canvas.style.display="block",e=this.#$===s.TRAIN?this.#j.best||this.#j.population[0]:this.#q,!e.brain)return;const i=t.width/20,r=t.height/(this.#$===s.TRAIN?5:30),n=t.height/30,h=t.height/30,o=t.width-2*i-2*h,a=t.height-r-n-2*h;this.#$===s.TRAIN&&t.text({text:`Generation: ${this.#j.number}`,at:{x:i,y:r-t.height/10},size:t.height/12.5,textAlign:"start",fillStyle:"#fff",strokeStyle:"transparent",font:"monogram"}).text({text:`Population: ${this.#j.remaining}`,at:{x:i,y:r-t.height/30},size:t.height/12.5,textAlign:"start",fillStyle:"#fff",strokeStyle:"transparent",font:"monogram"});const l=o/(e.brain.layers.length-1);let c=i+h;for(let i=1;i<e.brain.layers.length;i++){const s=e.brain.layers[i-1],n=e.brain.layers[i],o=c,d=c+l,u=a/s.nodes.length,g=a/n.nodes.length;let p=r+.5*u+h;for(let e=0;e<s.nodes.length;e++){let i=r+.5*g+h;for(let s=0;s<n.nodes.length;s++){const r=n.nodes[s].edges[e];t.beginPath().line({x:o,y:p},{x:d,y:i}).closePath().stroke({color:r.weight<0?"#f00":"#00f",width:Math.abs(2*r.weight)+1}),i+=g}p+=u}c+=l}c=i+h;for(const i of e.brain.layers){const e=a/i.nodes.length;let s=r+.5*e+h;for(const r of i.nodes)t.beginPath().circle({x:c,y:s},h).closePath().fill("#012").fill(`rgba(255, 255, 0, ${Math.abs(r.value).toFixed(2)})`).stroke({color:r.bias<0?"#f00":"#00f",width:2}),s+=e;c+=l}}singlePlayer(){this.#$=s.PLAY}versusAI(){this.#$=s.COMPETE}trainAI(){this.#$=s.TRAIN}pause(){this.#G=!0}resume(){this.#G=!1}get paused(){return this.#G}get isOver(){return this.#W}static#Q=1;static#ot="highscore";static#rt=7;static#nt=[4];static#ht=1;static#st=.01;static#it=1e3}},156:(t,e,i)=>{i.a(t,(async(t,e)=>{try{var s=i(203),r=i(993);const n=new s.A("network",300,150);n.background("#012");const h=new s.A("game",innerWidth,innerHeight);h.background("#012");const o=await fetch("brain.json").then((t=>t.text())),a=new r.A(h,o);let l=0;function c(t){const e=(t-l)/15;l=t,a.update(e),h.clear(),a.render(),n.clear(),a.renderNetwork(n),requestAnimationFrame(c)}c(0),addEventListener("resize",(()=>{h.resize(innerWidth,innerHeight),a.resize(innerWidth,innerHeight),a.render()}));const d=document.getElementById("start-screen"),u=document.getElementById("resume"),g=document.getElementById("single-player"),p=document.getElementById("versus-ai"),y=document.getElementById("train-ai"),f=document.getElementById("action-container"),x=document.getElementById("pause");g?.addEventListener("click",(()=>{f?.classList.remove("hidden"),d?.classList.add("hidden"),a.singlePlayer(),a.reset(),a.resume()})),p?.addEventListener("click",(()=>{f?.classList.remove("hidden"),d?.classList.add("hidden"),a.versusAI(),a.reset(),a.resume()})),y?.addEventListener("click",(()=>{f?.classList.remove("hidden"),d?.classList.add("hidden"),a.trainAI(),a.reset(),a.resume()})),x?.addEventListener("click",(()=>{a.pause(),f?.classList.add("hidden"),d?.classList.remove("hidden"),u?.classList.remove("hidden")})),u?.addEventListener("click",(()=>{a.resume(),f?.classList.remove("hidden"),d?.classList.add("hidden"),u?.classList.add("hidden")})),e()}catch(m){e(m)}}),1)},203:(t,e,i)=>{i.d(e,{A:()=>r});var s=i(992);class r{#yt;#Y;#ft;#xt=new s.A(0,0);#mt="#fff";#wt="#fff";#bt=1;#vt=[];#At=0;#St="start";#Tt="alphabetic";#Et="10px sans-serif";#It=1;#Pt=1;constructor(t,e,i){this.#yt=t,this.#Y=document.getElementById(t),this.#ft=this.#Y.getContext("2d"),this.fillStyle="#fff",this.strokeStyle="#fff",this.lineWidth=1,this.lineDash=[],this.lineDashOffset=0,this.textAlign="start",this.textBaseline="alphabetic",this.font="10px sans-serif",this.globalAlpha=1,this.resize(e,i)}resize(t,e){return this.#Y.width=t,this.#Y.height=e,this.#Pt=t/e,this.#xt=new s.A(+(t/2).toFixed(4),+(e/2).toFixed(4)),this}drawImage(t,e,i,s){return this.context.drawImage(t,e.x,e.y,i,s),this}rotateAndDrawImage(t,e,i,s,r){return this.save().translate(e).rotate(-r).drawImage(t,{x:-i/2,y:-s/2},i,s).restore(),this}circle(t,e){return this.context.arc(t.x,t.y,e,0,2*Math.PI),this}rect(t,e,i){return this.context.rect(t.x,t.y,e,i),this}line(t,e){return this.context.moveTo(t.x,t.y),this.context.lineTo(e.x,e.y),this}moveTo(t){return this.context.moveTo(t.x,t.y),this}lineTo(t){return this.context.lineTo(t.x,t.y),this}text({text:t,at:e,textAlign:i="center",textBaseline:s="middle",fillStyle:r=this.#mt,strokeStyle:n=this.#wt,size:h=16,font:o="Arial"}){return this.save(),this.context.textAlign=i,this.context.textBaseline=s,this.context.fillStyle=r,this.context.strokeStyle=n,this.context.font=`${h}px ${o}`,this.context.fillText(t,e.x,e.y),this.context.strokeText(t,e.x,e.y),this.restore(),this}beginPath(){return this.context.beginPath(),this}closePath(){return this.context.closePath(),this}stroke({color:t=this.#wt,width:e=this.#bt,dash:i=this.#vt}={}){return this.save(),this.context.strokeStyle=t,this.context.lineWidth=e,this.context.setLineDash(Array.from(i)),this.context.stroke(),this.restore(),this}fill(t=this.#mt){return this.save(),this.context.fillStyle=t,this.context.fill(),this.restore(),this}background(t="#000"){return this.#Y.style.backgroundColor=t,this}clear(){return this.#Y.width=this.width,this.#Y.height=this.height,this}translate(t){return this.context.translate(t.x,t.y),this}rotate(t){return this.context.rotate(t),this}save(){return this.context.save(),this}restore(){return this.context.restore(),this}requestPointerLock(){return this.#Y.requestPointerLock(),this}set fillStyle(t){this.#mt=t,this.context.fillStyle=t}set strokeStyle(t){this.#wt=t,this.context.strokeStyle=t}set lineWidth(t){this.#bt=t,this.context.lineWidth=t}set lineDash(t){this.#vt=t,this.context.setLineDash(Array.from(t))}set lineDashOffset(t){this.#At=t,this.context.lineDashOffset=t}set textAlign(t){this.#St=t,this.context.textAlign=t}set textBaseline(t){this.#Tt=t,this.context.textBaseline=t}set font(t){this.#Et=t,this.context.font=t}set globalAlpha(t){this.#It=t,this.context.globalAlpha=t}get id(){return this.#yt}get canvas(){return this.#Y}get context(){if(!this.#ft)throw new Error("CanvasRenderingContext2D is null");return this.#ft}get center(){return this.#xt}get width(){return this.#Y.width}get height(){return this.#Y.height}get aspectRatio(){return this.#Pt}get fillStyle(){return this.#mt}get strokeStyle(){return this.#wt}get lineWidth(){return this.#bt}get lineDash(){return this.#vt}get lineDashOffset(){return this.#At}get textAlign(){return this.#St}get textBaseline(){return this.#Tt}get font(){return this.#Et}get globalAlpha(){return this.#It}}},992:(t,e,i)=>{i.d(e,{A:()=>r});class s{#Ot;constructor(t,e,i,s,r,n,h,o,a){this.#Ot=[t,e,i,s,r,n,h,o,a]}set(t,e,i,s,r,n,h,o,a){return this.#Ot[0]=t,this.#Ot[1]=e,this.#Ot[2]=i,this.#Ot[3]=s,this.#Ot[4]=r,this.#Ot[5]=n,this.#Ot[6]=h,this.#Ot[7]=o,this.#Ot[8]=a,this}copy(){return new s(...this.#Ot)}multiply(t){const e=this.#Ot,i=t.#Ot,s=[0,0,0,0,0,0,0,0,0];return s[0]=e[0]*i[0]+e[1]*i[3]+e[2]*i[6],s[1]=e[0]*i[1]+e[1]*i[4]+e[2]*i[7],s[2]=e[0]*i[2]+e[1]*i[5]+e[2]*i[8],s[3]=e[3]*i[0]+e[4]*i[3]+e[5]*i[6],s[4]=e[3]*i[1]+e[4]*i[4]+e[5]*i[7],s[5]=e[3]*i[2]+e[4]*i[5]+e[5]*i[8],s[6]=e[6]*i[0]+e[7]*i[3]+e[8]*i[6],s[7]=e[6]*i[1]+e[7]*i[4]+e[8]*i[7],s[8]=e[6]*i[2]+e[7]*i[5]+e[8]*i[8],this.#Ot=s,this}get data(){return this.#Ot}static identity(){return new s(1,0,0,0,1,0,0,0,1)}static translation(t,e){return new s(1,0,t,0,1,e,0,0,1)}static rotation(t){const e=Math.cos(t),i=Math.sin(t);return new s(e,-i,0,i,e,0,0,0,1)}static scale(t,e){return new s(t,0,0,0,e,0,0,0,1)}}class r{#Bt=0;#Nt=0;#_t=0;#Mt=0;constructor(t,e){this.x=t,this.y=e}set(t){return this.x=t.x,this.y=t.y,this}copy({x:t=this.x,y:e=this.y}={}){return new r(t,e)}add(t){return this.x+=t.x,this.y+=t.y,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}multiply(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t,this.y/=t,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}transform(t){const{x:e,y:i}=this,s=t.data;return this.x=e*s[0]+i*s[1]+1*s[2],this.y=e*s[3]+i*s[4]+1*s[5],this}translate(t){return this.transform(s.translation(t.x,t.y))}rotate(t){return this.transform(s.rotation(t))}scale(t){return this.transform(s.scale(t.x,t.y))}normalize(){const t=this.magnitude;return 0!==t&&this.divide(t),this}set x(t){this.#Bt=t,this.#_t=Math.atan2(this.#Nt,t),this.#Mt=Math.sqrt(t**2+this.#Nt**2)}get x(){return this.#Bt}set y(t){this.#Nt=t,this.#_t=Math.atan2(t,this.#Bt),this.#Mt=Math.sqrt(this.#Bt**2+t**2)}get y(){return this.#Nt}set theta(t){this.#_t=t,this.#Bt=this.#Mt*Math.cos(t),this.#Nt=this.#Mt*Math.sin(t)}get theta(){return this.#_t}set magnitude(t){this.#Mt=t,this.#Bt=t*Math.cos(this.#_t),this.#Nt=t*Math.sin(this.#_t)}get magnitude(){return this.#Mt}set r(t){this.magnitude=t}get r(){return this.magnitude}static add(t,e){return new r(t.x,t.y).add(e)}static subtract(t,e){return new r(t.x,t.y).subtract(e)}static multiply(t,e){return new r(t.x,t.y).multiply(e)}static divide(t,e){return new r(t.x,t.y).divide(e)}static dot(t,e){return new r(t.x,t.y).dot(e)}static cross(t,e){return new r(t.x,t.y).cross(e)}static transform(t,e){return new r(t.x,t.y).transform(e)}static translate(t,e){return new r(t.x,t.y).translate(e)}static rotate(t,e){return new r(t.x,t.y).rotate(e)}static scale(t,e){return new r(t.x,t.y).scale(e)}static normalize(t){return new r(t.x,t.y).normalize()}static fromPolar(t,e){return new r(e*Math.cos(t),e*Math.sin(t))}}}},n={};function h(t){var e=n[t];if(void 0!==e)return e.exports;var i=n[t]={exports:{}};return r[t](i,i.exports,h),i.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",i="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",s=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},h.a=(r,n,h)=>{var o;h&&((o=[]).d=-1);var a,l,c,d=new Set,u=r.exports,g=new Promise(((t,e)=>{c=e,l=t}));g[e]=u,g[t]=t=>(o&&t(o),d.forEach(t),g.catch((t=>{}))),r.exports=g,n((r=>{var n;a=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[t])return r;if(r.then){var n=[];n.d=0,r.then((t=>{h[e]=t,s(n)}),(t=>{h[i]=t,s(n)}));var h={};return h[t]=t=>t(n),h}}var o={};return o[t]=t=>{},o[e]=r,o})))(r);var h=()=>a.map((t=>{if(t[i])throw t[i];return t[e]})),l=new Promise((e=>{(n=()=>e(h)).r=0;var i=t=>t!==o&&!d.has(t)&&(d.add(t),t&&!t.d&&(n.r++,t.push(n)));a.map((e=>e[t](i)))}));return n.r?l:h()}),(t=>(t?c(g[i]=t):l(u),s(o)))),o&&o.d<0&&(o.d=0)},h.d=(t,e)=>{for(var i in e)h.o(e,i)&&!h.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},h.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),h(156)})();