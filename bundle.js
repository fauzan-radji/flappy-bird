(()=>{"use strict";class t{#t;constructor(t,e,i,s,n,r,h,a,o){this.#t=[t,e,i,s,n,r,h,a,o]}set(t,e,i,s,n,r,h,a,o){return this.#t[0]=t,this.#t[1]=e,this.#t[2]=i,this.#t[3]=s,this.#t[4]=n,this.#t[5]=r,this.#t[6]=h,this.#t[7]=a,this.#t[8]=o,this}copy(){return new t(...this.#t)}multiply(t){const e=this.#t,i=t.#t,s=[0,0,0,0,0,0,0,0,0];return s[0]=e[0]*i[0]+e[1]*i[3]+e[2]*i[6],s[1]=e[0]*i[1]+e[1]*i[4]+e[2]*i[7],s[2]=e[0]*i[2]+e[1]*i[5]+e[2]*i[8],s[3]=e[3]*i[0]+e[4]*i[3]+e[5]*i[6],s[4]=e[3]*i[1]+e[4]*i[4]+e[5]*i[7],s[5]=e[3]*i[2]+e[4]*i[5]+e[5]*i[8],s[6]=e[6]*i[0]+e[7]*i[3]+e[8]*i[6],s[7]=e[6]*i[1]+e[7]*i[4]+e[8]*i[7],s[8]=e[6]*i[2]+e[7]*i[5]+e[8]*i[8],this.#t=s,this}get data(){return this.#t}static identity(){return new t(1,0,0,0,1,0,0,0,1)}static translation(e,i){return new t(1,0,e,0,1,i,0,0,1)}static rotation(e){const i=Math.cos(e),s=Math.sin(e);return new t(i,-s,0,s,i,0,0,0,1)}static scale(e,i){return new t(e,0,0,0,i,0,0,0,1)}}class e{#e=0;#i=0;#s=0;#n=0;constructor(t,e){this.x=t,this.y=e}set(t){return this.x=t.x,this.y=t.y,this}copy({x:t=this.x,y:i=this.y}={}){return new e(t,i)}add(t){return this.x+=t.x,this.y+=t.y,this}subtract(t){return this.x-=t.x,this.y-=t.y,this}multiply(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t,this.y/=t,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}transform(t){const{x:e,y:i}=this,s=t.data;return this.x=e*s[0]+i*s[1]+1*s[2],this.y=e*s[3]+i*s[4]+1*s[5],this}translate(e){return this.transform(t.translation(e.x,e.y))}rotate(e){return this.transform(t.rotation(e))}scale(e){return this.transform(t.scale(e.x,e.y))}normalize(){const t=this.magnitude;return 0!==t&&this.divide(t),this}set x(t){this.#e=t,this.#s=Math.atan2(this.#i,t),this.#n=Math.sqrt(t**2+this.#i**2)}get x(){return this.#e}set y(t){this.#i=t,this.#s=Math.atan2(t,this.#e),this.#n=Math.sqrt(this.#e**2+t**2)}get y(){return this.#i}set theta(t){this.#s=t,this.#e=this.#n*Math.cos(t),this.#i=this.#n*Math.sin(t)}get theta(){return this.#s}set magnitude(t){this.#n=t,this.#e=t*Math.cos(this.#s),this.#i=t*Math.sin(this.#s)}get magnitude(){return this.#n}set r(t){this.magnitude=t}get r(){return this.magnitude}static add(t,i){return new e(t.x,t.y).add(i)}static subtract(t,i){return new e(t.x,t.y).subtract(i)}static multiply(t,i){return new e(t.x,t.y).multiply(i)}static divide(t,i){return new e(t.x,t.y).divide(i)}static dot(t,i){return new e(t.x,t.y).dot(i)}static cross(t,i){return new e(t.x,t.y).cross(i)}static transform(t,i){return new e(t.x,t.y).transform(i)}static translate(t,i){return new e(t.x,t.y).translate(i)}static rotate(t,i){return new e(t.x,t.y).rotate(i)}static scale(t,i){return new e(t.x,t.y).scale(i)}static normalize(t){return new e(t.x,t.y).normalize()}static fromPolar(t,i){return new e(i*Math.cos(t),i*Math.sin(t))}}class i{#r;#h;#a=10;#o=-10;#l=40;constructor(t,e){this.#r=t,this.#h=t.copy(),e&&(this.#a=e)}reset(){this.#h.set(this.#r),this.#o=-10}jump(){this.#o<0||(this.#o=-10)}update(){this.#o=Math.min(this.#o+.5,this.#l),this.#h.add({x:0,y:this.#o})}get position(){return this.#h}get size(){return this.#a}}const s=new class{#c;#u;#d;#x=new e(0,0);#y="#fff";#g="#fff";#f=1;#m=[];#v=0;#p="start";#w="alphabetic";#b="10px sans-serif";#k=1;#S=1;constructor(t,e,i){this.#c=t,this.#u=document.getElementById(t),this.#d=this.#u.getContext("2d"),this.fillStyle="#fff",this.strokeStyle="#fff",this.lineWidth=1,this.lineDash=[],this.lineDashOffset=0,this.textAlign="start",this.textBaseline="alphabetic",this.font="10px sans-serif",this.globalAlpha=1,this.resize(e,i)}resize(t,i){return this.#u.width=t,this.#u.height=i,this.#S=t/i,this.#x=new e(+(t/2).toFixed(4),+(i/2).toFixed(4)),this}drawImage(t,e,i,s){return this.context.drawImage(t,e.x,e.y,i,s),this}rotateAndDrawImage(t,e,i,s,n){return this.save().translate(e).rotate(-n).drawImage(t,{x:-i/2,y:-s/2},i,s).restore(),this}circle(t,e){return this.context.arc(t.x,t.y,e,0,2*Math.PI),this}rect(t,e,i){return this.context.rect(t.x,t.y,e,i),this}line(t,e){return this.context.moveTo(t.x,t.y),this.context.lineTo(e.x,e.y),this}moveTo(t){return this.context.moveTo(t.x,t.y),this}lineTo(t){return this.context.lineTo(t.x,t.y),this}text({text:t,at:e,fillStyle:i=this.#y,strokeStyle:s=this.#g,size:n=16}){return this.beginPath(),this.textAlign="center",this.textBaseline="middle",this.fillStyle=i,this.strokeStyle=s,this.font=`${n}px Arial`,this.context.fillText(t,e.x,e.y),this.context.strokeText(t,e.x,e.y),this}beginPath(){return this.context.beginPath(),this}closePath(){return this.context.closePath(),this}stroke({color:t=this.#g,width:e=this.#f,dash:i=this.#m}={}){return this.strokeStyle=t,this.lineWidth=e,this.lineDash=i,this.context.stroke(),this}fill(t=this.#y){return this.fillStyle=t,this.context.fill(),this}background(t="#000"){return this.#u.style.backgroundColor=t,this}clear(){return this.context.clearRect(0,0,this.width,this.height),this}translate(t){return this.context.translate(t.x,t.y),this}rotate(t){return this.context.rotate(t),this}save(){return this.context.save(),this}restore(){return this.context.restore(),this}requestPointerLock(){return this.#u.requestPointerLock(),this}set fillStyle(t){this.#y=t,this.context.fillStyle=t}set strokeStyle(t){this.#g=t,this.context.strokeStyle=t}set lineWidth(t){this.#f=t,this.context.lineWidth=t}set lineDash(t){this.#m=t,this.context.setLineDash(Array.from(t))}set lineDashOffset(t){this.#v=t,this.context.lineDashOffset=t}set textAlign(t){this.#p=t,this.context.textAlign=t}set textBaseline(t){this.#w=t,this.context.textBaseline=t}set font(t){this.#b=t,this.context.font=t}set globalAlpha(t){this.#k=t,this.context.globalAlpha=t}get id(){return this.#c}get canvas(){return this.#u}get context(){if(!this.#d)throw new Error("CanvasRenderingContext2D is null");return this.#d}get center(){return this.#x}get width(){return this.#u.width}get height(){return this.#u.height}get aspectRatio(){return this.#S}get fillStyle(){return this.#y}get strokeStyle(){return this.#g}get lineWidth(){return this.#f}get lineDash(){return this.#m}get lineDashOffset(){return this.#v}get textAlign(){return this.#p}get textBaseline(){return this.#w}get font(){return this.#b}get globalAlpha(){return this.#k}}("canvas",innerWidth,innerHeight);s.background("skyblue");const n=new class{#u;#A;#D=!1;constructor(t){this.#u=t,this.#A=new i(t.center.copy({x:30})),window.addEventListener("keydown",(t=>{" "!==t.key&&"ArrowUp"!==t.key||this.#A.jump()})),window.addEventListener("click",(()=>this.#A.jump()))}reset(){this.#A.reset(),this.#D=!1}update(){this.#A.update(),(this.#A.position.y>this.#u.height||this.#A.position.y<0)&&(this.#D=!0)}render(){this.#u.beginPath().circle(this.bird.position,this.bird.size).closePath().fill("black")}get bird(){return this.#A}get isOver(){return this.#D}}(s);!function t(){n.update(),s.clear(),n.render(),n.isOver&&n.reset(),requestAnimationFrame(t)}(),addEventListener("resize",(()=>{s.resize(innerWidth,innerHeight),n.render()}))})();